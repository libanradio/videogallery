<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title></title>
  <link rel="stylesheet" href="./style.css">
<style>
#site {
  display: flex;
  flex-direction: column;
  min-height: 1vh;
}

.player {
  margin: 100;
  max-width: 150em;
  padding: 0.1em;
}
.player__video {
  height: 0;
  overflow: hidden;
  padding-bottom: 55.25%;
  position:relative ;
}
.player__video iframe {
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
}

.gallery {
  background-color: #fff;
  padding: 1em;
}
.gallery__item {
  align-items: center;
  background-color: #eb2026;
  color: white;
  cursor: pointer;
  display: flex;
  justify-content: center;
  padding: 0 0.25em;
}
.gallery__item__img {
  width: 40%;
}
.gallery__item__span {
  padding-left: 1em;
  text-shadow: 1px 1px 2px red;
  width: 60%;
  width: 60%;
}

@media screen and (min-width: 30em) {
  .gallery {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-gap: 0.75em;
  }
}
@media screen and (min-width: 48em) {
  .gallery {
    grid-template-columns: repeat(3, 1fr);
  }
}
@media screen and (min-width: 60em) {
  .gallery {
    grid-template-columns: repeat(4, 1fr);
  }
}
</style>
</head>
<body>
<!-- partial:index.partial.html -->
<div id="site">
    <div id="player">
      <div class="player">
        <div class="player__video">
          <!-- Current video is for reference only. It will be generated by JavaScript code. -->
          <iframe id="current-video" width="800" height="315" src="https://www.youtube.com/playlist?list=PLhbLjzAwtyKPTC5smwEPNuHM-M-6s_CK7" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
      </div>
    </div>
    <div id="gallery">
      <div class="gallery"></div>
    </div>
  </div>
<!-- partial -->
  <script> 
// YouTube sintaxis for embedded videos and images

const ytVideoPrefix = `https://www.youtube.com/embed/`
const ytImagePathPrefix = `https://i.ytimg.com/vi/`
const ytImagePathSufix = `/hqdefault.jpg`

// Array of Videos

let arrVideos = [
  {name: 'نصري شمس الدين', data: 'Q-jumt-A6js'},
  {name: 'نزار قباني', data: 'LlCX1iIVzOE'},
  {name: 'زكي ناصيف', data: '7hSf3-omVcg'},
  {name: 'بيروت عاصمة الإعلام العربي للعام ٢٠٢٣', data: 'ygaeKiVfQpk'},
]


// Current video

let currentVideo = document.getElementById('current-video')
currentVideo.src = `${ytVideoPrefix}${arrVideos[0].data}`

// Add .gallery__items to .gallery

let gallery = document.querySelector('.gallery')
gallery.innerHTML = ``

for (let i = 0; i < arrVideos.length; i++) {
  gallery.innerHTML += `
    <div class="gallery__item" data="${arrVideos[i].data}">
      <img class="gallery__item__img" src="${ytImagePathPrefix}${arrVideos[i].data}${ytImagePathSufix}">
      <span class="gallery__item__span">${arrVideos[i].name}</span>
    </div>`
}

// Add event listeners

gallery.addEventListener('click', (e) => {
  // When click on .gallery__item element
  if (e.target.classList.contains('gallery__item')) {
    currentVideo.src = `${ytVideoPrefix}${e.target.getAttribute('data')}`
  }
  // When click on .gallery__item__img element
  if (e.target.classList.contains('gallery__item__img')) {
    let data = e.target.src
    data = data.replace(ytImagePathPrefix, '')
    data = data.replace(ytImagePathSufix, '')
    currentVideo.src = `${ytVideoPrefix}${data}`
  }
  // When click on .gallery__item__span element
  if (e.target.classList.contains('gallery__item__span')) {
    console.log(e.target.innerText)
    for (let i = 0; i < arrVideos.length; i++) {
      if (arrVideos[i].name === e.target.innerText) {
        currentVideo.src = `${ytVideoPrefix}${arrVideos[i].data}`
      }
    }
  }
})
</script>

</body>
</html>
